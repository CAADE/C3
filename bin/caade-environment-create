#!/usr/bin/env node

var program = require('commander');
var Client = require('node-rest-client').Client;
var config = require('./UHC-config');

var client = new Client();


program
  .option('-f, --filename <filename>', 'Create an environment with a file definition')
  .parse(process.argv);

var name = program.args;

var url = config.UHCUrl + "/environment/create?";

if (name) {
  url += "name=" + name[0];
}
if (program.filename) {
  url += "&filename=" + program.filename;
}

client.get(url, function (data, response) {
  // parsed response body as js object
  console.log(data.message);
});
