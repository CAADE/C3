#!/usr/bin/env node

var program = require('commander');
var Client = require('node-rest-client').Client;
var config = require('./c3-config');
var _ =  require('lodash');

var client = new Client();


program
  .parse(process.argv);


var url = config.Url + "/application/list?";

client.get(url, function (data, response) {
  // parsed response body as js object
  console.log("Name\tVersion\tStack");
  console.log("======\t======\t======");
  _.each(data.apps, function(app) {
    console.log(app.name + "\t" + app.version + "\t" + app.stack.name);
  })
});
