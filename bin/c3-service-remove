#!/usr/bin/env node

var program = require('commander');
var Client = require('node-rest-client').Client;
var config = require('./c3-config');
var YAML = require('yamljs');

var client = new Client();

program
  .option('-e, --env <environmentName>', 'Remvoe a Service from the environment')
  .parse(process.argv);

var url = config.Url + "/service/remove";

if(program.args.length > 0) {
  url += "?name=" + program.args[0];
}
if(program.env) {
  url += "&env=" + program.env;
}

client.get(url, function (data, response) {
  // parsed response body as js object
  if(data.error) {
    console.error(data.error);
  }
  else {
    console.log(data.message);
  }
});
